<!DOCTYPE html>
<head>
  <!-- meta charset, author, viewport, title, desc, keywords, robots, manifest & icon for SEO -->
  <meta charset="utf-8" />
  <meta name="author" content="Brian Bauska" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <meta name="title" content="UFO Preston Dennett" />
  <html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
  <meta name="keywords" content="UFO,preston,dennett,et,#ufo,#et,#preston,#dennett,291youtube,videos,
    website,web,site,zombie,Politics,culture,casino,capitalism,over290videos,#videos,#291,#et,
    capitalize,political,disposability,death,America,culture,power,society,greed,avarice,excess,
    MIC,Military,Industrial,Complex,corruption,Dulles,Bush,Reagan,justice,youth,democracy,psychology,
    ideology,governance,spectacle,casinocapitalism,zombie,steak,Steak,YouTube,Sonic,sonic,SONIC,
    Silus,Gaming,World,SilusGamingWorldLuccasNeto,T-Series,SETIndia,Cocomelon,Mr,Beast,MrBeast,
    Beast,CE1,C-E-1,MRBEAST,BEAST,SilusGamingWorld,Silus,SilusSpider,NickAR,Nick,NY,NYNick,
    NewYorkNick,NYNick,URCristiano,UR,Cristiano,KidsDimaShow,VladandNiki,LuisitoComunica,
    BrightSide,ZeeTV,DudePerfect,TipsOfficial,TipsOfficial,FNAF,FiveNightsatFreddies,
    TheMusicCompany,PewDiePie,5minutecrafts,A4,Sambucha,Sam&Colby,Sam&ColbyReacts,JuiceWorld,
    RayWilliamJohnson,FGTV,KaicenatLive,IShowSpeed,Jelly,DanTDM,KSI,LoganPaul,JackSucksAtLife,
    PackGOD,JakePaul,Jake,PaulJakePaul,SamGaming01,Veshreny,WWE,WorldWrestlingEntertainment,
    Smosh,DadsSpeed,TopperGuild,InternetAnarchist,GuavaJuice,FortniteYoutubers,Sypherpk,LiveSPEEDY,
    AdenRoss,Preston,JohnnieJuilbert,YouTube Movies,AnnoyingOrange,JackSepticeye,JackFilms,BBNo$,
    Unspeakable,MarkRober,TheFilmTheorist,TheGameTheorist,Minecraft,TheBoys,JTMusic,DAFUQBoom!?,
    AIMIN,Robby,BrentTV,EYStream,Fortnite,Ninja,SunnyV2,N30N,SamFrank,Dream,Technoblade,@bbauska,
    RyanTrhan,Stellar,DJCook,AnthonyMadia,AnthonyIlla,SmoshGaming,SmoshPit,SmoshCast,Fred,cellardoor,
    BriansBlog,CellarDoor,Silus,GW,Gaming,World,SilusGamingWorld,SilusGW,#Silus-GW,#cellardoor,bbauska,
    #SilusGamingWorld,#SilusGW,gluttony,selfishness,#bbauska,#silas,#silys,#sylus,#sylas,#sylusgw,
    #silasGW,#silasgamingworld" />
  <meta name="robots" content="index, follow" />
  <link rel="manifest" href="manifest.json" />
  <link rel="icon" type="image/x-icon" href="/images/favicon/favicon.ico" />
  <link preconnect rel="canonical" href="https://tic-tac-toe.bauska.org" />

<title>Tic Tac Toe</title>
<meta charset="UTF-8" />
</head>
<body>
<style>
  body,
  td,
  input {
    font-size: 24px;
    line-height: 1.5;
    text-align: center;
    font-family: system-ui, sans-serif;
  }
  td {
    height: 3rem;
    width: 3rem;
    text-align: center;
  }
  table {
    margin: 5rem auto;
  }
  @media (prefers-color-scheme: dark) {
    body,
    input {
      background: #222;
      color: #ccc;
    }
  }
</style>

<h1>Tic Tac Toe</h1>

<table>
  <tr>
    <td><input type="checkbox" /></td>
    <td><input type="checkbox" /></td>
    <td><input type="checkbox" /></td>
  </tr>
  <tr>
    <td><input type="checkbox" /></td>
    <td><input type="checkbox" /></td>
    <td><input type="checkbox" /></td>
  </tr>
  <tr>
    <td><input type="checkbox" /></td>
    <td><input type="checkbox" /></td>
    <td><input type="checkbox" /></td>
  </tr>
</table>

<h2 hidden>Game over</h2>

<script>
  // Initialization
  const boxes = Array.from(document.querySelectorAll("td"));
  const inputs = Array.from(document.querySelectorAll("[type=checkbox]"));
  const rows = [1, 2, 3].map((n) =>
    Array.from(document.querySelectorAll(`tr:nth-child(${n}) td`))
  );
  const columns = [1, 2, 3].map((n) =>
    Array.from(document.querySelectorAll(`td:nth-child(${n})`))
  );
  const diagonals = [
    [
      [1, 1],
      [2, 2],
      [3, 3],
    ],
    [
      [3, 1],
      [2, 2],
      [1, 3],
    ],
  ].map((set) =>
    set.map(([x, y]) =>
      document.querySelector(`tr:nth-child(${x}) td:nth-child(${y})`)
    )
  );
  const gameOver = document.querySelector("h2");
  const HUMAN = "🧑‍💻";
  const ROBOT = "🤖";

  // Decide who goes first
  if (Math.random() > 0.5) {
    runRobotTurn();
  }

  // Handle when a user clicks an input
  for (const input of inputs) {
    input.addEventListener("click", handleClickInput);
  }

  // The user chose a box, check for win, robot turn, check for win
  function handleClickInput(evt) {
    evt.target.closest("td").innerHTML = HUMAN;
    if (hasWin()) {
      return endGame();
    }
    runRobotTurn();
    if (hasWin()) {
      return endGame();
    }
  }

  // Choose a random available box
  function runRobotTurn() {
    const robotBoxes = shuffle(boxes);
    while (robotBoxes.length) {
      const box = robotBoxes.shift();
      if (box.querySelector("input")) {
        box.innerHTML = ROBOT;
        break;
      }
    }
  }

  // Determine win
  function hasWin() {
    return (
      rows.some(hasAllSame) ||
      columns.some(hasAllSame) ||
      diagonals.some(hasAllSame)
    );
  }

  // Determine if every cell matches
  function hasAllSame(arr) {
    return arr.every(
      (td) => !td.querySelector("input") && td.innerHTML === arr[0].innerHTML
    );
  }

  // Display game over, cancel events
  function endGame() {
    gameOver.hidden = false;
    for (const input of inputs) {
      input.removeEventListener("click", handleClickInput);
      input.remove();
    }
  }

  // Shuffle a copy of the input array
  function shuffle(array) {
    array = array.slice(0);
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * i);
      const temp = array[i];
      array[i] = array[j];
      array[j] = temp;
    }
    return array;
  }
</script>
</body>
</html>
